# Sing-box 运行时环境变量模板
# 请将此文件复制为 .env 并填入真实信息
# 注意：.env 文件绝对不要提交到 Git 仓库！

# --- 核心安全密钥 ---
# Clash API 的访问密钥 (用于 Dashboard 管理)
CLASH_API_SECRET="ChangeMe123456"

# --- 订阅源链接 (支持 Clash/Sing-box 格式) ---
# 建议配置三个不同的机场以实现高可用负载均衡

# 主力机场
PROVIDER_NAME_1="机场A_主用"
SUB_URL_1="https://example.com/api/v1/client/subscribe?token=xxxxxx"

# 备用机场 A
PROVIDER_NAME_2="机场B_备用"
SUB_URL_2="https://backup1.com/link/yyyyyy"
# 备用机场 B
PROVIDER_NAME_3="机场C_保底"
SUB_URL_3="https://backup2.com/subscribe/zzzzzz"

# 自定义 0.0.0.0 Mixed 代理服务器账号密码
MIXED_PROXY_USERNAME="your_username"
MIXED_PROXY_PASSWORD="your_password"

# ==============================================
# 高级配置覆写 (Config Override v2)
# 值必须是有效的 JSON 字符串
# ==============================================

# 1. 自定义 DNS 服务器 (插入到 dns.servers 列表顶部)
# DNS_SERVERS='[{"tag":"ali_dns","address":"223.5.5.5","detour":"DIRECT"}]'

# 2. DNS 规则注入 (Mid: 插入到默认规则之前; Bottom: 插入到所有规则之后)
# DNS_RULES_MID='{"rule_set":"geosite-category-ads-all","server":"block"}'
# DNS_RULES_BOTTOM='{"server":"local"}'

# 3. 路由规则注入 (Top: 最前; Mid: 默认之前; Bottom: 最后)
# ROUTE_RULES_TOP='{"protocol":"dns","action":"hijack-dns"}'
# ROUTE_RULES_MID='{"ip_cidr":["10.0.0.1/32"],"outbound":"DIRECT"}'
# ROUTE_RULES_BOTTOM='{"port":80,"outbound":"DIRECT"}'

# 4. 规则集定义 (插入到 route.rule_set)
# ROUTE_RULE_SETS='{"tag":"my-rule-set","type":"remote","format":"binary","url":"..."}'

# 5. 入站定义 (插入到 inbounds)
# INBOUNDS_TOP='{"type":"mixed","tag":"mixed-in","listen":"::","listen_port":7890}'
# INBOUNDS_BOTTOM='{"type":"direct","tag":"dns-in-2","network":"udp"}'

# 实验性功能 (Legacy/Experimental)
# EXPERIMENTAL_CLASH_API='{"external_controller":"0.0.0.0:9090"}'
# EXPERIMENTAL_CACHE_FILE='{"enabled":true}'
